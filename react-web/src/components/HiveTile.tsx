import React from 'react';
import { Colors } from '../styles';

interface HiveTileProps {
  type?: string;
  size?: number;
  fill?: string;
  width?: number;
  height?: number;
  borderColor?: string;
}

const HiveTile: React.FC<HiveTileProps> = ({ 
  type, 
  size = 50, 
  fill, 
  width, 
  height, 
  borderColor: propBorderColor 
}) => {
  let backgroundColor = '';
  let borderColor = '';
  let iconPath = '';
  let text = '';

  const finalWidth = width || size;
  const finalHeight = height || size;

  if (fill && propBorderColor) {
    backgroundColor = fill;
    borderColor = propBorderColor;
  } else if (type) {
    switch (type) {
      case 'Task':
        backgroundColor = '#FFE2E0';
        borderColor = Colors.LIGHT_RED || '#FF6B6B';
        iconPath = 'M12.5 2h-9c-0.8 0-1.5 0.7-1.5 1.5v13c0 0.8 0.7 1.5 1.5 1.5h9c0.8 0 1.5-0.7 1.5-1.5v-13c0-0.8-0.7-1.5-1.5-1.5zM12 16.5h-8c-0.3 0-0.5-0.2-0.5-0.5v-12c0-0.3 0.2-0.5 0.5-0.5h8c0.3 0 0.5 0.2 0.5 0.5v12c0 0.3-0.2 0.5-0.5 0.5zM10 5h-4c-0.3 0-0.5 0.2-0.5 0.5s0.2 0.5 0.5 0.5h4c0.3 0 0.5-0.2 0.5-0.5s-0.2-0.5-0.5-0.5zM10 7h-4c-0.3 0-0.5 0.2-0.5 0.5s0.2 0.5 0.5 0.5h4c0.3 0 0.5-0.2 0.5-0.5s-0.2-0.5-0.5-0.5zM10 9h-4c-0.3 0-0.5 0.2-0.5 0.5s0.2 0.5 0.5 0.5h4c0.3 0 0.5-0.2 0.5-0.5s-0.2-0.5-0.5-0.5zM10 11h-4c-0.3 0-0.5 0.2-0.5 0.5s0.2 0.5 0.5 0.5h4c0.3 0 0.5-0.2 0.5-0.5s-0.2-0.5-0.5-0.5z';
        break;
      case 'Event':
        backgroundColor = '#E5EEFF';
        borderColor = Colors.BLUE || '#0066FF';
        iconPath = 'M8 16c-0.5 0-1-0.4-1-1h2c0 0.6-0.5 1-1 1zM14 12v-4c0-3.1-2.1-5.6-5-6.2v-0.8c0-0.6-0.4-1-1-1s-1 0.4-1 1v0.8c-2.9 0.6-5 3.1-5 6.2v4l-1.3 1.3c-0.6 0.6-0.2 1.7 0.7 1.7h13.2c0.9 0 1.3-1.1 0.7-1.7l-1.3-1.3zM12 12h-8v-4c0-2.2 1.8-4 4-4s4 1.8 4 4v4z';
        break;
      case 'Note':
        backgroundColor = '#FFFBDB';
        borderColor = Colors.MUSTARD || '#FFD700';
        iconPath = 'M12.5 2h-9c-0.8 0-1.5 0.7-1.5 1.5v13c0 0.8 0.7 1.5 1.5 1.5h9c0.8 0 1.5-0.7 1.5-1.5v-13c0-0.8-0.7-1.5-1.5-1.5zM12 16.5h-8c-0.3 0-0.5-0.2-0.5-0.5v-12c0-0.3 0.2-0.5 0.5-0.5h8c0.3 0 0.5 0.2 0.5 0.5v12c0 0.3-0.2 0.5-0.5 0.5zM10 5h-4c-0.3 0-0.5 0.2-0.5 0.5s0.2 0.5 0.5 0.5h4c0.3 0 0.5-0.2 0.5-0.5s-0.2-0.5-0.5-0.5zM10 7h-4c-0.3 0-0.5 0.2-0.5 0.5s0.2 0.5 0.5 0.5h4c0.3 0 0.5-0.2 0.5-0.5s-0.2-0.5-0.5-0.5zM10 9h-4c-0.3 0-0.5 0.2-0.5 0.5s0.2 0.5 0.5 0.5h4c0.3 0 0.5-0.2 0.5-0.5s-0.2-0.5-0.5-0.5zM10 11h-4c-0.3 0-0.5 0.2-0.5 0.5s0.2 0.5 0.5 0.5h4c0.3 0 0.5-0.2 0.5-0.5s-0.2-0.5-0.5-0.5z';
        break;
      case 'Reminder':
        backgroundColor = '#E5EEFF';
        borderColor = Colors.BLUE || '#0066FF';
        iconPath = 'M8 16c-0.5 0-1-0.4-1-1h2c0 0.6-0.5 1-1 1zM14 12v-4c0-3.1-2.1-5.6-5-6.2v-0.8c0-0.6-0.4-1-1-1s-1 0.4-1 1v0.8c-2.9 0.6-5 3.1-5 6.2v4l-1.3 1.3c-0.6 0.6-0.2 1.7 0.7 1.7h13.2c0.9 0 1.3-1.1 0.7-1.7l-1.3-1.3zM12 12h-8v-4c0-2.2 1.8-4 4-4s4 1.8 4 4v4z';
        break;
      case 'Notification':
        backgroundColor = '#E0F7E6';
        borderColor = Colors.PISTACHIO_GREEN || '#4CAF50';
        iconPath = 'M8 16c-0.5 0-1-0.4-1-1h2c0 0.6-0.5 1-1 1zM14 12v-4c0-3.1-2.1-5.6-5-6.2v-0.8c0-0.6-0.4-1-1-1s-1 0.4-1 1v0.8c-2.9 0.6-5 3.1-5 6.2v4l-1.3 1.3c-0.6 0.6-0.2 1.7 0.7 1.7h13.2c0.9 0 1.3-1.1 0.7-1.7l-1.3-1.3zM12 12h-8v-4c0-2.2 1.8-4 4-4s4 1.8 4 4v4z';
        break;
      default:
        backgroundColor = '#E5EEFF';
        borderColor = Colors.BLUE || '#0066FF';
        iconPath = 'M8 16c-0.5 0-1-0.4-1-1h2c0 0.6-0.5 1-1 1zM14 12v-4c0-3.1-2.1-5.6-5-6.2v-0.8c0-0.6-0.4-1-1-1s-1 0.4-1 1v0.8c-2.9 0.6-5 3.1-5 6.2v4l-1.3 1.3c-0.6 0.6-0.2 1.7 0.7 1.7h13.2c0.9 0 1.3-1.1 0.7-1.7l-1.3-1.3zM12 12h-8v-4c0-2.2 1.8-4 4-4s4 1.8 4 4v4z';
        break;
    }
    text = type;
  }

  return (
    <div
      style={{
        position: 'relative',
        width: `${finalWidth}px`,
        height: `${finalHeight}px`,
      }}
    >
      <svg
        width={finalWidth}
        height={finalHeight}
        viewBox="0 0 92 106"
        style={{ position: 'absolute', top: 0, left: 0 }}
      >
        <path
          d="M84.9928 23.4051L47.9928 2.14507C46.7589 1.43605 45.2411 1.43605 44.0072 2.14507L7.00717 23.4051C5.76553 24.1186 5 25.4414 5 26.8734V70.322C5 71.754 5.76553 73.0768 7.00717 73.7903L44.0072 95.0503C45.2411 95.7594 46.7589 95.7594 47.9928 95.0503L84.9928 73.7903C86.2345 73.0768 87 71.754 87 70.322V26.8734C87 25.4414 86.2345 24.1186 84.9928 23.4051Z"
          fill={backgroundColor}
          stroke={borderColor}
          strokeWidth="2"
        />
      </svg>
      <div
        style={{
          position: 'absolute',
          top: 0,
          left: 0,
          width: '100%',
          height: '100%',
          display: 'flex',
          flexDirection: 'column',
          justifyContent: 'center',
          alignItems: 'center',
          padding: 0
        }}
      >
        {type === 'Task' ? (
          <svg width={finalWidth * 0.375} height={finalHeight * 0.375} viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M7.93301 15.1666C6.99967 15.1555 6.13023 14.9777 5.32467 14.6333C4.51912 14.2888 3.8219 13.8166 3.23301 13.2166C2.64412 12.6166 2.18023 11.9138 1.84134 11.1083C1.50245 10.3027 1.33301 9.43325 1.33301 8.49992C1.33301 7.55547 1.50523 6.6777 1.84967 5.86659C2.19412 5.05547 2.66634 4.34992 3.26634 3.74992C3.86634 3.14992 4.5719 2.68047 5.38301 2.34159C6.19412 2.0027 7.06634 1.83325 7.99967 1.83325C8.66634 1.83325 9.3219 1.93047 9.96634 2.12492C10.6108 2.31936 11.233 2.61103 11.833 2.99992C11.9552 3.0777 12.0247 3.18325 12.0413 3.31659C12.058 3.44992 12.0219 3.57214 11.933 3.68325C11.8441 3.79436 11.733 3.86103 11.5997 3.88325C11.4663 3.90547 11.3386 3.8777 11.2163 3.79992C10.7163 3.4777 10.1969 3.23603 9.65801 3.07492C9.11912 2.91381 8.56634 2.83325 7.99967 2.83325C6.38856 2.83325 5.04134 3.37492 3.95801 4.45825C2.87467 5.54159 2.33301 6.88881 2.33301 8.49992C2.33301 10.111 2.87467 11.4583 3.95801 12.5416C5.04134 13.6249 6.38856 14.1666 7.99967 14.1666C8.43301 14.1666 8.86079 14.1221 9.28301 14.0333C9.70523 13.9444 10.1108 13.8055 10.4997 13.6166C10.633 13.561 10.7663 13.5444 10.8997 13.5666C11.033 13.5888 11.1386 13.6555 11.2163 13.7666C11.3052 13.8888 11.333 14.0194 11.2997 14.1583C11.2663 14.2971 11.1886 14.3944 11.0663 14.4499C10.5775 14.6944 10.0719 14.8749 9.54967 14.9916C9.02745 15.1083 8.48856 15.1666 7.93301 15.1666ZM6.66634 11.1833L4.63301 9.13325C4.53301 9.03325 4.48301 8.91103 4.48301 8.76659C4.48301 8.62214 4.53856 8.49436 4.64967 8.38325C4.74967 8.28325 4.87467 8.23047 5.02467 8.22492C5.17467 8.21936 5.29967 8.27214 5.39967 8.38325L7.01634 10.0166L13.5497 3.48325C13.6497 3.38325 13.7719 3.33047 13.9163 3.32492C14.0608 3.31936 14.1886 3.37214 14.2997 3.48325C14.4108 3.59436 14.4663 3.72214 14.4663 3.86659C14.4663 4.01103 14.4108 4.13881 14.2997 4.24992L7.36634 11.1833C7.26634 11.2833 7.1469 11.3333 7.00801 11.3333C6.86912 11.3333 6.75523 11.2833 6.66634 11.1833ZM13.333 13.6666C13.1886 13.6666 13.0691 13.6194 12.9747 13.5249C12.8802 13.4305 12.833 13.311 12.833 13.1666V11.6666H11.333C11.1886 11.6666 11.0691 11.6194 10.9747 11.5249C10.8802 11.4305 10.833 11.311 10.833 11.1666C10.833 11.0221 10.8802 10.9027 10.9747 10.8083C11.0691 10.7138 11.1886 10.6666 11.333 10.6666H12.833V9.16659C12.833 9.02214 12.8802 8.9027 12.9747 8.80825C13.0691 8.71381 13.1886 8.66659 13.333 8.66659C13.4775 8.66659 13.5969 8.71381 13.6913 8.80825C13.7858 8.9027 13.833 9.02214 13.833 9.16659V10.6666H15.333C15.4775 10.6666 15.5969 10.7138 15.6913 10.8083C15.7858 10.9027 15.833 11.0221 15.833 11.1666C15.833 11.311 15.7858 11.4305 15.6913 11.5249C15.5969 11.6194 15.4775 11.6666 15.333 11.6666H13.833V13.1666C13.833 13.311 13.7858 13.4305 13.6913 13.5249C13.5969 13.6194 13.4775 13.6666 13.333 13.6666Z" fill={borderColor}/>
          </svg>
        ) : type === 'Event' ? (
          <svg width={finalWidth * 0.375} height={finalHeight * 0.375} viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8.2 12.9168H3C2.72222 12.9168 2.48611 12.8196 2.29167 12.6252C2.09722 12.4307 2 12.1946 2 11.9168V3.91683C2 3.63905 2.09722 3.40294 2.29167 3.2085C2.48611 3.01405 2.72222 2.91683 3 2.91683H4V1.5835H5V2.91683H9.66667V1.5835H10.6667V2.91683H11.6667C11.9444 2.91683 12.1806 3.01405 12.375 3.2085C12.5694 3.40294 12.6667 3.63905 12.6667 3.91683V8.45016C12.5778 8.43905 12.4944 8.43072 12.4167 8.42516C12.3389 8.41961 12.2556 8.41683 12.1667 8.41683C12.0778 8.41683 11.9944 8.41961 11.9167 8.42516C11.8389 8.43072 11.7556 8.43905 11.6667 8.45016V5.91683H3V11.9168H8.2C8.18889 12.0057 8.18056 12.0891 8.175 12.1668C8.16944 12.2446 8.16667 12.3279 8.16667 12.4168C8.16667 12.5057 8.16944 12.5891 8.175 12.6668C8.18056 12.7446 8.18889 12.8279 8.2 12.9168ZM11.6667 14.9168V12.9168H9.66667V11.9168H11.6667V9.91683H12.6667V11.9168H14.6667V12.9168H12.6667V14.9168H11.6667Z" fill={borderColor}/>
          </svg>
        ) : (
          <svg 
            width={finalWidth * 0.375} 
            height={finalHeight * 0.375} 
            viewBox="0 0 16 17" 
            fill={borderColor}
            style={{ marginBottom: 0 }}
          >
            <path d={iconPath} />
          </svg>
        )}
        <div style={{
          marginTop: '-2px',
          fontSize: `${finalWidth * 0.15}px`,
          color: borderColor,
          fontWeight: 'bold',
          textAlign: 'center',
        }}>
          {text}
        </div>
      </div>
    </div>
  );
};

export default HiveTile;
