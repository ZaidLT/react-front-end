'use client';

import React, { useState, useEffect } from 'react';
import { useRouter } from 'next/navigation';

interface FloatingPlusMenuProps {
  onClose: () => void;
}

/**
 * FloatingPlusMenu - Animated menu that appears when FAB is clicked
 * Shows hexagonal buttons for Task, Note, Doc, and Event creation
 */
const FloatingPlusMenu: React.FC<FloatingPlusMenuProps> = ({ onClose }) => {
  const router = useRouter();
  const [isAnimating, setIsAnimating] = useState(true);
  const [buttonsActive, setButtonsActive] = useState(false);
  const [isClosing, setIsClosing] = useState(false);

  useEffect(() => {
    // Small delay to ensure initial state is rendered
    const animationTimer = setTimeout(() => {
      setIsAnimating(false);
    }, 50);

    // Enable button interactions after animation completes
    const activeTimer = setTimeout(() => {
      setButtonsActive(true);
    }, 350);

    return () => {
      clearTimeout(animationTimer);
      clearTimeout(activeTimer);
    };
  }, []);

  const handleClose = () => {
    setIsClosing(true);
    setButtonsActive(false);
    // Wait for close animation to complete before calling onClose
    setTimeout(() => {
      onClose();
    }, 300);
  };

  const handleItemClick = (type: string) => {
    if (!buttonsActive) return;

    // Navigate based on type
    switch (type) {
      case 'Task':
        router.push('/create-task');
        break;
      case 'Note':
        router.push('/create-note');
        break;
      case 'Doc':
        router.push('/create-doc');
        break;
      case 'Event':
        router.push('/create-event');
        break;
    }

    handleClose();
  };

  return (
    <div className="plus-menu-container">
      {/* Top Row - Task and Note */}
      <div className="menu-row top-row">
        <div
          className={`menu-item task-item ${isAnimating ? 'animating' : isClosing ? 'closing' : 'final'}`}
          onClick={() => handleItemClick('Task')}
        >
          <svg width="66" height="76" viewBox="0 0 66 76" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3.87502 58.4414L3.87504 58.4414L30.368 74.2332C32.0643 75.2444 34.1861 75.2608 35.8956 74.251L62.2684 58.6722C63.9749 57.6642 65.0076 55.7903 65 53.806L64.8797 22.4356C64.8721 20.4498 63.8239 18.5863 62.1288 17.5656L62.125 17.5633L35.6358 1.77385C35.6351 1.77342 35.6344 1.77299 35.6336 1.77256C33.9243 0.744332 31.8088 0.746925 30.1044 1.75377L3.73158 17.3325C2.0251 18.3405 0.992392 20.2144 1.00004 22.1987C1.00004 22.1987 1.00004 22.1987 1.00004 22.1987L1.12025 53.5692L2.12024 53.5654L1.12025 53.5692C1.12791 55.5531 2.18201 57.4322 3.87502 58.4414Z" fill="#FFE2E0" stroke="#FF6961" strokeWidth="2"/>
            <path d="M32.8916 37.8334C31.375 37.8153 29.9621 37.5264 28.6531 36.9667C27.3441 36.407 26.2111 35.6396 25.2541 34.6646C24.2972 33.6896 23.5434 32.5476 22.9927 31.2386C22.442 29.9295 22.1666 28.5167 22.1666 27C22.1666 25.4653 22.4465 24.0389 23.0062 22.7209C23.5659 21.4028 24.3333 20.2563 25.3083 19.2813C26.2833 18.3063 27.4298 17.5434 28.7479 16.9927C30.0659 16.442 31.4833 16.1667 33 16.1667C34.0833 16.1667 35.1486 16.3247 36.1958 16.6406C37.243 16.9566 38.2541 17.4306 39.2291 18.0625C39.4277 18.1889 39.5406 18.3604 39.5677 18.5771C39.5948 18.7938 39.5361 18.9924 39.3916 19.1729C39.2472 19.3535 39.0666 19.4618 38.85 19.4979C38.6333 19.534 38.4257 19.4889 38.227 19.3625C37.4145 18.8389 36.5704 18.4462 35.6948 18.1844C34.8191 17.9226 33.9208 17.7917 33 17.7917C30.3819 17.7917 28.1927 18.6719 26.4323 20.4323C24.6718 22.1927 23.7916 24.382 23.7916 27C23.7916 29.6181 24.6718 31.8073 26.4323 33.5677C28.1927 35.3281 30.3819 36.2084 33 36.2084C33.7041 36.2084 34.3993 36.1361 35.0854 35.9917C35.7715 35.8472 36.4305 35.6215 37.0625 35.3146C37.2791 35.2243 37.4958 35.1972 37.7125 35.2334C37.9291 35.2695 38.1007 35.3778 38.227 35.5584C38.3715 35.757 38.4166 35.9691 38.3625 36.1948C38.3083 36.4205 38.1819 36.5785 37.9833 36.6688C37.1888 37.066 36.3673 37.3594 35.5187 37.549C34.6701 37.7386 33.7944 37.8334 32.8916 37.8334ZM30.8333 31.3604L27.5291 28.0292C27.3666 27.8667 27.2854 27.6681 27.2854 27.4334C27.2854 27.1986 27.3757 26.991 27.5562 26.8104C27.7187 26.6479 27.9218 26.5622 28.1656 26.5531C28.4093 26.5441 28.6125 26.6299 28.775 26.8104L31.402 29.4646L42.0187 18.8479C42.1812 18.6854 42.3798 18.5997 42.6145 18.5906C42.8493 18.5816 43.0569 18.6674 43.2375 18.8479C43.418 19.0285 43.5083 19.2361 43.5083 19.4709C43.5083 19.7056 43.418 19.9132 43.2375 20.0938L31.9708 31.3604C31.8083 31.5229 31.6142 31.6042 31.3885 31.6042C31.1628 31.6042 30.9777 31.5229 30.8333 31.3604ZM41.6666 35.3959C41.4319 35.3959 41.2378 35.3191 41.0843 35.1656C40.9309 35.0122 40.8541 34.8181 40.8541 34.5834V32.1459H38.4166C38.1819 32.1459 37.9878 32.0691 37.8343 31.9156C37.6809 31.7622 37.6041 31.5681 37.6041 31.3334C37.6041 31.0986 37.6809 30.9045 37.8343 30.7511C37.9878 30.5976 38.1819 30.5209 38.4166 30.5209H40.8541V28.0834C40.8541 27.8486 40.9309 27.6545 41.0843 27.5011C41.2378 27.3476 41.4319 27.2709 41.6666 27.2709C41.9013 27.2709 42.0954 27.3476 42.2489 27.5011C42.4024 27.6545 42.4791 27.8486 42.4791 28.0834V30.5209H44.9166C45.1513 30.5209 45.3454 30.5976 45.4989 30.7511C45.6524 30.9045 45.7291 31.0986 45.7291 31.3334C45.7291 31.5681 45.6524 31.7622 45.4989 31.9156C45.3454 32.0691 45.1513 32.1459 44.9166 32.1459H42.4791V34.5834C42.4791 34.8181 42.4024 35.0122 42.2489 35.1656C42.0954 35.3191 41.9013 35.3959 41.6666 35.3959Z" fill="#FF6961"/>
            <path d="M24.7253 48.624V49.98H22.4933V57H20.8133V49.98H18.5813V48.624H24.7253ZM25.519 53.652C25.519 52.98 25.651 52.384 25.915 51.864C26.187 51.344 26.551 50.944 27.007 50.664C27.471 50.384 27.987 50.244 28.555 50.244C29.051 50.244 29.483 50.344 29.851 50.544C30.227 50.744 30.527 50.996 30.751 51.3V50.352H32.443V57H30.751V56.028C30.535 56.34 30.235 56.6 29.851 56.808C29.475 57.008 29.039 57.108 28.543 57.108C27.983 57.108 27.471 56.964 27.007 56.676C26.551 56.388 26.187 55.984 25.915 55.464C25.651 54.936 25.519 54.332 25.519 53.652ZM30.751 53.676C30.751 53.268 30.671 52.92 30.511 52.632C30.351 52.336 30.135 52.112 29.863 51.96C29.591 51.8 29.299 51.72 28.987 51.72C28.675 51.72 28.387 51.796 28.123 51.948C27.859 52.1 27.643 52.324 27.475 52.62C27.315 52.908 27.235 53.252 27.235 53.652C27.235 54.052 27.315 54.404 27.475 54.708C27.643 55.004 27.859 55.232 28.123 55.392C28.395 55.552 28.683 55.632 28.987 55.632C29.299 55.632 29.591 55.556 29.863 55.404C30.135 55.244 30.351 55.02 30.511 54.732C30.671 54.436 30.751 54.084 30.751 53.676ZM36.6279 57.108C36.0839 57.108 35.5959 57.012 35.1639 56.82C34.7319 56.62 34.3879 56.352 34.1319 56.016C33.8839 55.68 33.7479 55.308 33.7239 54.9H35.4159C35.4479 55.156 35.5719 55.368 35.7879 55.536C36.0119 55.704 36.2879 55.788 36.6159 55.788C36.9359 55.788 37.1839 55.724 37.3599 55.596C37.5439 55.468 37.6359 55.304 37.6359 55.104C37.6359 54.888 37.5239 54.728 37.2999 54.624C37.0839 54.512 36.7359 54.392 36.2559 54.264C35.7599 54.144 35.3519 54.02 35.0319 53.892C34.7199 53.764 34.4479 53.568 34.2159 53.304C33.9919 53.04 33.8799 52.684 33.8799 52.236C33.8799 51.868 33.9839 51.532 34.1919 51.228C34.4079 50.924 34.7119 50.684 35.1039 50.508C35.5039 50.332 35.9719 50.244 36.5079 50.244C37.2999 50.244 37.9319 50.444 38.4039 50.844C38.8759 51.236 39.1359 51.768 39.1839 52.44H37.5759C37.5519 52.176 37.4399 51.968 37.2399 51.816C37.0479 51.656 36.7879 51.576 36.4599 51.576C36.1559 51.576 35.9199 51.632 35.7519 51.744C35.5919 51.856 35.5119 52.012 35.5119 52.212C35.5119 52.436 35.6239 52.608 35.8479 52.728C36.0719 52.84 36.4199 52.956 36.8919 53.076C37.3719 53.196 37.7679 53.32 38.0799 53.448C38.3919 53.576 38.6599 53.776 38.8839 54.048C39.1159 54.312 39.2359 54.664 39.2439 55.104C39.2439 55.488 39.1359 55.832 38.9199 56.136C38.7119 56.44 38.4079 56.68 38.0079 56.856C37.6159 57.024 37.1559 57.108 36.6279 57.108ZM44.5589 57L42.3029 54.168V57H40.6229V48.12H42.3029V53.172L44.5349 50.352H46.7189L43.7909 53.688L46.7429 57H44.5589Z" fill="#FF6961"/>
          </svg>
        </div>

        <div
          className={`menu-item note-item ${isAnimating ? 'animating' : isClosing ? 'closing' : 'final'}`}
          onClick={() => handleItemClick('Note')}
        >
          <svg width="66" height="76" viewBox="0 0 66 76" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3.87502 58.4414L3.87504 58.4414L30.368 74.2332C32.0643 75.2444 34.1861 75.2608 35.8956 74.251L62.2684 58.6722C63.9749 57.6642 65.0076 55.7903 65 53.806L64.8797 22.4356C64.8721 20.4498 63.8239 18.5863 62.1288 17.5656L62.125 17.5633L35.6358 1.77385C35.6351 1.77342 35.6344 1.77299 35.6336 1.77256C33.9243 0.744332 31.8088 0.746925 30.1044 1.75377L3.73158 17.3325C2.0251 18.3405 0.992392 20.2144 1.00004 22.1987C1.00004 22.1987 1.00004 22.1987 1.00004 22.1987L1.12025 53.5692L2.12024 53.5654L1.12025 53.5692C1.12791 55.5531 2.18201 57.4322 3.87502 58.4414Z" fill="#FFFBDB" stroke="#FFA020" strokeWidth="2"/>
            <path d="M37.6042 36.4521V33.2021H34.3542V31.5771H37.6042V28.3271H39.2292V31.5771H42.4792V33.2021H39.2292V36.4521H37.6042ZM24.3334 33.5V31.875H32.2146V32.6604C32.2146 32.8771 32.2417 33.1569 32.2959 33.5H24.3334ZM24.3334 29.0041V27.3791H34.7063C34.3993 27.5958 34.1195 27.8441 33.8667 28.1239C33.6139 28.4038 33.3882 28.6972 33.1896 29.0041H24.3334ZM24.3334 24.4812V22.8562H40.5834V24.4812H24.3334ZM24.3334 19.9583V18.3333H40.5834V19.9583H24.3334Z" fill="#FFA020"/>
            <path d="M27.2244 57H25.5444L21.7404 51.252V57H20.0604V48.612H21.7404L25.5444 54.372V48.612H27.2244V57ZM31.8366 57.108C31.1966 57.108 30.6206 56.968 30.1086 56.688C29.5966 56.4 29.1926 55.996 28.8966 55.476C28.6086 54.956 28.4646 54.356 28.4646 53.676C28.4646 52.996 28.6126 52.396 28.9086 51.876C29.2126 51.356 29.6246 50.956 30.1446 50.676C30.6646 50.388 31.2446 50.244 31.8846 50.244C32.5246 50.244 33.1046 50.388 33.6246 50.676C34.1446 50.956 34.5526 51.356 34.8486 51.876C35.1526 52.396 35.3046 52.996 35.3046 53.676C35.3046 54.356 35.1486 54.956 34.8366 55.476C34.5326 55.996 34.1166 56.4 33.5886 56.688C33.0686 56.968 32.4846 57.108 31.8366 57.108ZM31.8366 55.644C32.1406 55.644 32.4246 55.572 32.6886 55.428C32.9606 55.276 33.1766 55.052 33.3366 54.756C33.4966 54.46 33.5766 54.1 33.5766 53.676C33.5766 53.044 33.4086 52.56 33.0726 52.224C32.7446 51.88 32.3406 51.708 31.8606 51.708C31.3806 51.708 30.9766 51.88 30.6486 52.224C30.3286 52.56 30.1686 53.044 30.1686 53.676C30.1686 54.308 30.3246 54.796 30.6366 55.14C30.9566 55.476 31.3566 55.644 31.8366 55.644ZM38.493 51.732V54.948C38.493 55.172 38.545 55.336 38.649 55.44C38.761 55.536 38.945 55.584 39.201 55.584H39.981V57H38.925C37.509 57 36.801 56.312 36.801 54.936V51.732H36.009V50.352H36.801V48.708H38.493V50.352H39.981V51.732H38.493ZM47.3693 53.532C47.3693 53.772 47.3533 53.988 47.3213 54.18H42.4613C42.5013 54.66 42.6693 55.036 42.9653 55.308C43.2613 55.58 43.6253 55.716 44.0573 55.716C44.6813 55.716 45.1253 55.448 45.3893 54.912H47.2013C47.0093 55.552 46.6413 56.08 46.0973 56.496C45.5533 56.904 44.8853 57.108 44.0933 57.108C43.4533 57.108 42.8773 56.968 42.3653 56.688C41.8613 56.4 41.4653 55.996 41.1773 55.476C40.8973 54.956 40.7573 54.356 40.7573 53.676C40.7573 52.988 40.8973 52.384 41.1773 51.864C41.4573 51.344 41.8493 50.944 42.3533 50.664C42.8573 50.384 43.4373 50.244 44.0933 50.244C44.7253 50.244 45.2893 50.38 45.7853 50.652C46.2893 50.924 46.6773 51.312 46.9493 51.816C47.2293 52.312 47.3693 52.884 47.3693 53.532ZM45.6293 53.052C45.6213 52.62 45.4653 52.276 45.1613 52.02C44.8573 51.756 44.4853 51.624 44.0453 51.624C43.6293 51.624 43.2773 51.752 42.9893 52.008C42.7093 52.256 42.5373 52.604 42.4733 53.052H45.6293Z" fill="#FFA020"/>
          </svg>
        </div>
      </div>

      {/* Bottom Row - Doc and Event */}
      <div className="menu-row bottom-row">
        <div
          className={`menu-item doc-item ${isAnimating ? 'animating' : isClosing ? 'closing' : 'final'}`}
          onClick={() => handleItemClick('Doc')}
        >
          <svg width="66" height="76" viewBox="0 0 66 76" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3.87502 58.4414L3.87504 58.4414L30.368 74.2332C32.0643 75.2444 34.1861 75.2608 35.8956 74.251L62.2684 58.6722C63.9749 57.6642 65.0076 55.7903 65 53.806L64.8797 22.4356C64.8721 20.4498 63.8239 18.5863 62.1288 17.5656L62.125 17.5633L35.6358 1.77385C35.6351 1.77342 35.6344 1.77299 35.6336 1.77256C33.9243 0.744332 31.8088 0.746925 30.1044 1.75377L3.73158 17.3325C2.0251 18.3405 0.992392 20.2144 1.00004 22.1987C1.00004 22.1987 1.00004 22.1987 1.00004 22.1987L1.12025 53.5692L2.12024 53.5654L1.12025 53.5692C1.12791 55.5531 2.18201 57.4322 3.87502 58.4414Z" fill="#E0F8E5" stroke="#6CC47C" strokeWidth="2"/>
            <path d="M29.5062 25.6188C29.2715 25.6188 29.0774 25.542 28.924 25.3885C28.7705 25.2351 28.6937 25.041 28.6937 24.8063C28.6937 24.5715 28.7705 24.3774 28.924 24.224C29.0774 24.0705 29.2715 23.9938 29.5062 23.9938H36.5208C36.7556 23.9938 36.9497 24.0705 37.1031 24.224C37.2566 24.3774 37.3333 24.5715 37.3333 24.8063C37.3333 25.041 37.2566 25.2351 37.1031 25.3885C36.9497 25.542 36.7556 25.6188 36.5208 25.6188H29.5062ZM29.5062 29.0583C29.2715 29.0583 29.0774 28.9816 28.924 28.8281C28.7705 28.6747 28.6937 28.4806 28.6937 28.2458C28.6937 28.0111 28.7705 27.817 28.924 27.6635C29.0774 27.5101 29.2715 27.4333 29.5062 27.4333H36.5208C36.7556 27.4333 36.9497 27.5101 37.1031 27.6635C37.2566 27.817 37.3333 28.0111 37.3333 28.2458C37.3333 28.4806 37.2566 28.6747 37.1031 28.8281C36.9497 28.9816 36.7556 29.0583 36.5208 29.0583H29.5062ZM29.5062 32.4979C29.2715 32.4979 29.0774 32.4212 28.924 32.2677C28.7705 32.1142 28.6937 31.9201 28.6937 31.6854C28.6937 31.4507 28.7705 31.2566 28.924 31.1031C29.0774 30.9497 29.2715 30.8729 29.5062 30.8729H36.5208C36.7556 30.8729 36.9497 30.9497 37.1031 31.1031C37.2566 31.2566 37.3333 31.4507 37.3333 31.6854C37.3333 31.9201 37.2566 32.1142 37.1031 32.2677C36.9497 32.4212 36.7556 32.4979 36.5208 32.4979H29.5062ZM39.5813 23.6146C39.3465 23.6146 39.1524 23.5378 38.999 23.3844C38.8455 23.2309 38.7688 23.0368 38.7688 22.8021V21.2583H37.1979C36.9632 21.2583 36.7691 21.1816 36.6156 21.0281C36.4622 20.8747 36.3854 20.6806 36.3854 20.4458C36.3854 20.2111 36.4622 20.017 36.6156 19.8635C36.7691 19.7101 36.9632 19.6333 37.1979 19.6333H38.7688V18.0625C38.7688 17.8278 38.8455 17.6337 38.999 17.4802C39.1524 17.3267 39.3465 17.25 39.5813 17.25C39.816 17.25 40.0101 17.3267 40.1635 17.4802C40.317 17.6337 40.3938 17.8278 40.3938 18.0625V19.6333H41.9375C42.1722 19.6333 42.3663 19.7101 42.5198 19.8635C42.6733 20.017 42.75 20.2111 42.75 20.4458C42.75 20.6806 42.6733 20.8747 42.5198 21.0281C42.3663 21.1816 42.1722 21.2583 41.9375 21.2583H40.3938V22.8021C40.3938 23.0368 40.317 23.2309 40.1635 23.3844C40.0101 23.5378 39.816 23.6146 39.5813 23.6146ZM24.875 36.75C24.4417 36.75 24.0625 36.5875 23.7375 36.2625C23.4125 35.9375 23.25 35.5583 23.25 35.125V18.875C23.25 18.4417 23.4125 18.0625 23.7375 17.7375C24.0625 17.4125 24.4417 17.25 24.875 17.25H34.7604C34.9951 17.25 35.1892 17.3267 35.3427 17.4802C35.4962 17.6337 35.5729 17.8278 35.5729 18.0625C35.5729 18.2972 35.4962 18.4913 35.3427 18.6448C35.1892 18.7983 34.9951 18.875 34.7604 18.875H24.875V35.125H41.125V25.2396C41.125 25.0049 41.2017 24.8108 41.3552 24.6573C41.5087 24.5038 41.7028 24.4271 41.9375 24.4271C42.1722 24.4271 42.3663 24.5038 42.5198 24.6573C42.6733 24.8108 42.75 25.0049 42.75 25.2396V35.125C42.75 35.5583 42.5875 35.9375 42.2625 36.2625C41.9375 36.5875 41.5583 36.75 41.125 36.75H24.875Z" fill="#6CC47C"/>
            <path d="M24.0197 48.624C24.8997 48.624 25.6717 48.796 26.3357 49.14C27.0077 49.484 27.5237 49.976 27.8837 50.616C28.2517 51.248 28.4357 51.984 28.4357 52.824C28.4357 53.664 28.2517 54.4 27.8837 55.032C27.5237 55.656 27.0077 56.14 26.3357 56.484C25.6717 56.828 24.8997 57 24.0197 57H21.0917V48.624H24.0197ZM23.9597 55.572C24.8397 55.572 25.5197 55.332 25.9997 54.852C26.4797 54.372 26.7197 53.696 26.7197 52.824C26.7197 51.952 26.4797 51.272 25.9997 50.784C25.5197 50.288 24.8397 50.04 23.9597 50.04H22.7717V55.572H23.9597ZM32.6452 57.108C32.0052 57.108 31.4292 56.968 30.9172 56.688C30.4052 56.4 30.0012 55.996 29.7052 55.476C29.4172 54.956 29.2732 54.356 29.2732 53.676C29.2732 52.996 29.4212 52.396 29.7172 51.876C30.0212 51.356 30.4332 50.956 30.9532 50.676C31.4732 50.388 32.0532 50.244 32.6932 50.244C33.3332 50.244 33.9132 50.388 34.4332 50.676C34.9532 50.956 35.3612 51.356 35.6572 51.876C35.9612 52.396 36.1132 52.996 36.1132 53.676C36.1132 54.356 35.9572 54.956 35.6452 55.476C35.3412 55.996 34.9252 56.4 34.3972 56.688C33.8772 56.968 33.2932 57.108 32.6452 57.108ZM32.6452 55.644C32.9492 55.644 33.2332 55.572 33.4972 55.428C33.7692 55.276 33.9852 55.052 34.1452 54.756C34.3052 54.46 34.3852 54.1 34.3852 53.676C34.3852 53.044 34.2172 52.56 33.8812 52.224C33.5532 51.88 33.1492 51.708 32.6692 51.708C32.1892 51.708 31.7852 51.88 31.4572 52.224C31.1372 52.56 30.9772 53.044 30.9772 53.676C30.9772 54.308 31.1332 54.796 31.4452 55.14C31.7652 55.476 32.1652 55.644 32.6452 55.644ZM36.9136 53.676C36.9136 52.988 37.0536 52.388 37.3336 51.876C37.6136 51.356 38.0016 50.956 38.4976 50.676C38.9936 50.388 39.5616 50.244 40.2016 50.244C41.0256 50.244 41.7056 50.452 42.2416 50.868C42.7856 51.276 43.1496 51.852 43.3336 52.596H41.5216C41.4256 52.308 41.2616 52.084 41.0296 51.924C40.8056 51.756 40.5256 51.672 40.1896 51.672C39.7096 51.672 39.3296 51.848 39.0496 52.2C38.7696 52.544 38.6296 53.036 38.6296 53.676C38.6296 54.308 38.7696 54.8 39.0496 55.152C39.3296 55.496 39.7096 55.668 40.1896 55.668C40.8696 55.668 41.3136 55.364 41.5216 54.756H43.3336C43.1496 55.476 42.7856 56.048 42.2416 56.472C41.6976 56.896 41.0176 57.108 40.2016 57.108C39.5616 57.108 38.9936 56.968 38.4976 56.688C38.0016 56.4 37.6136 56 37.3336 55.488C37.0536 54.968 36.9136 54.364 36.9136 53.676Z" fill="#6CC47C"/>
          </svg>
        </div>



        <div
          className={`menu-item event-item ${isAnimating ? 'animating' : isClosing ? 'closing' : 'final'}`}
          onClick={() => handleItemClick('Event')}
        >
          <svg width="66" height="76" viewBox="0 0 66 76" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3.87502 58.4414L3.87504 58.4414L30.368 74.2332C32.0643 75.2444 34.1861 75.2608 35.8956 74.251L62.2684 58.6722C63.9749 57.6642 65.0076 55.7903 65 53.806L64.8797 22.4356C64.8721 20.4498 63.8239 18.5863 62.1288 17.5656L62.125 17.5633L35.6358 1.77385C35.6351 1.77342 35.6344 1.77299 35.6336 1.77256C33.9243 0.744332 31.8088 0.746925 30.1044 1.75377L3.73158 17.3325C2.0251 18.3405 0.992392 20.2144 1.00004 22.1987C1.00004 22.1987 1.00004 22.1987 1.00004 22.1987L1.12025 53.5692L2.12024 53.5654L1.12025 53.5692C1.12791 55.5531 2.18201 57.4322 3.87502 58.4414Z" fill="#E7E2FF" stroke="#8980B3" strokeWidth="2"/>
            <path d="M33.325 34.5834H24.875C24.4236 34.5834 24.0399 34.4254 23.724 34.1094C23.408 33.7934 23.25 33.4097 23.25 32.9584V19.9584C23.25 19.507 23.408 19.1233 23.724 18.8073C24.0399 18.4913 24.4236 18.3334 24.875 18.3334H26.5V16.1667H28.125V18.3334H35.7083V16.1667H37.3333V18.3334H38.9583C39.4097 18.3334 39.7934 18.4913 40.1094 18.8073C40.4253 19.1233 40.5833 19.507 40.5833 19.9584V27.325C40.4389 27.307 40.3035 27.2934 40.1771 27.2844C40.0507 27.2754 39.9153 27.2709 39.7708 27.2709C39.6264 27.2709 39.491 27.2754 39.3646 27.2844C39.2382 27.2934 39.1028 27.307 38.9583 27.325V23.2084H24.875V32.9584H33.325C33.3069 33.1028 33.2934 33.2382 33.2844 33.3646C33.2753 33.491 33.2708 33.6264 33.2708 33.7709C33.2708 33.9153 33.2753 34.0507 33.2844 34.1771C33.2934 34.3035 33.3069 34.4389 33.325 34.5834ZM38.9583 37.8334V34.5834H35.7083V32.9584H38.9583V29.7084H40.5833V32.9584H43.8333V34.5834H40.5833V37.8334H38.9583Z" fill="#8980B3"/>
            <path d="M18.7268 49.98V52.08H21.5468V53.412H18.7268V55.632H21.9068V57H17.0468V48.612H21.9068V49.98H18.7268ZM26.2055 55.452L27.8855 50.352H29.6735L27.2135 57H25.1735L22.7255 50.352H24.5255L26.2055 55.452ZM36.7971 53.532C36.7971 53.772 36.7811 53.988 36.7491 54.18H31.8891C31.9291 54.66 32.0971 55.036 32.3931 55.308C32.6891 55.58 33.0531 55.716 33.4851 55.716C34.1091 55.716 34.5531 55.448 34.8171 54.912H36.6291C36.4371 55.552 36.0691 56.08 35.5251 56.496C34.9811 56.904 34.3131 57.108 33.5211 57.108C32.8811 57.108 32.3051 56.968 31.7931 56.688C31.2891 56.4 30.8931 55.996 30.6051 55.476C30.3251 54.956 30.1851 54.356 30.1851 53.676C30.1851 52.988 30.3251 52.384 30.6051 51.864C30.8851 51.344 31.2771 50.944 31.7811 50.664C32.2851 50.384 32.8651 50.244 33.5211 50.244C34.1531 50.244 34.7171 50.38 35.2131 50.652C35.7171 50.924 36.1051 51.312 36.3771 51.816C36.6571 52.312 36.7971 52.884 36.7971 53.532ZM35.0571 53.052C35.0491 52.62 34.8931 52.276 34.5891 52.02C34.2851 51.756 33.9131 51.624 33.4731 51.624C33.0571 51.624 32.7051 51.752 32.4171 52.008C32.1371 52.256 31.9651 52.604 31.9011 53.052H35.0571ZM41.7073 50.256C42.4993 50.256 43.1393 50.508 43.6273 51.012C44.1153 51.508 44.3593 52.204 44.3593 53.1V57H42.6793V53.328C42.6793 52.8 42.5473 52.396 42.2833 52.116C42.0193 51.828 41.6593 51.684 41.2033 51.684C40.7393 51.684 40.3713 51.828 40.0993 52.116C39.8353 52.396 39.7033 52.8 39.7033 53.328V57H38.0233V50.352H39.7033V51.18C39.9273 50.892 40.2113 50.668 40.5553 50.508C40.9073 50.34 41.2913 50.256 41.7073 50.256ZM47.9129 51.732V54.948C47.9129 55.172 47.9649 55.336 48.0689 55.44C48.1809 55.536 48.3649 55.584 48.6209 55.584H49.4009V57H48.3449C46.9289 57 46.2209 56.312 46.2209 54.936V51.732H45.4289V50.352H46.2209V48.708H47.9129V50.352H49.4009V51.732H47.9129Z" fill="#8980B3"/>
          </svg>
        </div>
      </div>

      <style jsx>{`
        .plus-menu-container {
          position: absolute;
          bottom: 60px;
          left: 50%;
          transform: translateX(-50%);
          z-index: 120;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 15px;
        }

        .menu-row {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 25px;
        }

        .menu-item {
          display: flex;
          flex-direction: column;
          align-items: center;
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
          opacity: 0;
          pointer-events: none;
          filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
        }

        .menu-item.final {
          pointer-events: auto;
        }



        .menu-item.final:hover {
          transform: scale(1.1);
        }

        .menu-item.final:active {
          transform: scale(0.95);
        }

        /* Animation states - start from center, explode out */
        .menu-item.animating {
          transform: translate(0, 0);
          opacity: 0;
        }

        .menu-item.animating.task-item {
          transform: translate(0, 0);
        }

        .menu-item.animating.note-item {
          transform: translate(0, 0);
        }

        .menu-item.animating.doc-item {
          transform: translate(0, 0);
        }

        .menu-item.animating.event-item {
          transform: translate(0, 0);
        }



        .menu-item.final {
          opacity: 1;
          pointer-events: auto;
        }

        .menu-item.final.task-item {
          transform: translate(0px, 25px);
        }

        .menu-item.final.note-item {
          transform: translate(0px, 25px);
        }

        .menu-item.final.doc-item {
          transform: translate(-35px, 15px);
        }

        .menu-item.final.event-item {
          transform: translate(35px, 15px);
        }

        /* Closing animation states - return to center */
        .menu-item.closing {
          opacity: 0;
          pointer-events: none;
          transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .menu-item.closing.task-item {
          transform: translate(0, 0);
        }

        .menu-item.closing.note-item {
          transform: translate(0, 0);
        }

        .menu-item.closing.doc-item {
          transform: translate(0, 0);
        }

        .menu-item.closing.event-item {
          transform: translate(0, 0);
        }

        .close-button {
          /* Remove separate close-button styles since it's now a menu-item */
        }
      `}</style>
    </div>
  );
};

export default FloatingPlusMenu;
